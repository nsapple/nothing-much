<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reverse Proxy</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; }
    .container { max-width: 600px; margin: 50px auto; padding: 20px; background: white; }
    input, button { width: 100%; padding: 10px; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Reverse Proxy</h1>
    <form id="proxyForm">
      <input type="url" id="targetUrl" required placeholder="Enter URL (e.g., https://example.com)">
      <button type="submit">Proxy</button>
    </form>
  </div>
  <script>
    document.getElementById('proxyForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const url = document.getElementById('targetUrl').value;
      const encoded = btoa(url)
        .replace(/\+/g, '-')
        .replace(/\//g, '_')
        .replace(/=+$/, '');
      // Navigate to our UV-powered proxy route
      window.location.href = '/proxy/' + encoded + '/';
    });
  </script>
</body>
</html>
